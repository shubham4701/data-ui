<h2>Find Details by State and City</h2>
<div>
  <mat-form-field>
    <mat-label>Country</mat-label>
    <mat-select (selectionChange)="onCountrySelected($event)">
      <mat-option *ngFor="let country of countries" [value]="country.name">
        {{ country.name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field *ngIf="states">
    <mat-label>State</mat-label>
    <mat-select (selectionChange)="onStateSelected($event)">
      <mat-option *ngFor="let state of states" [value]="state.state_name">
        {{ state.state_name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
  <mat-form-field *ngIf="cities">
    <mat-label>City</mat-label>
    <mat-select (selectionChange)="onCitySelected($event)">
      <mat-option *ngFor="let city of cities" [value]="city.city_name">
        {{ city.city_name }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

<br><br>
<mat-table [dataSource]="dataSource" matSort>
  <ng-container matColumnDef="Country">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Country</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.Country }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="State">
    <mat-header-cell *matHeaderCellDef mat-sort-header>State</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.State }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="District">
    <mat-header-cell *matHeaderCellDef mat-sort-header>District</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.District }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="Name">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Locality</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.Name }}</mat-cell>
  </ng-container>
  <ng-container matColumnDef="PinCode">
    <mat-header-cell *matHeaderCellDef mat-sort-header>Pin Code</mat-header-cell>
    <mat-cell *matCellDef="let row">{{ row.Pincode }}</mat-cell>
  </ng-container>
  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
</mat-table>
<div class="mat-elevation-z8" *ngIf="dataSource">
  <mat-paginator [pageSize]="10" [pageSizeOptions]="[10, 25, 50]" showFirstLastButtons></mat-paginator>
</div>
<p *ngIf="errorMessage">{{ errorMessage}}</p>